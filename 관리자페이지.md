5.8 관리자 기능 요구사항
5.8.1 관리자 권한 및 접근 제어

관리자 계정 구분

users 테이블에 role 컬럼 추가

ALTER TABLE users
ADD COLUMN role VARCHAR(20) DEFAULT 'USER'; -- USER / ADMIN


로그인 시 세션에 role 저장

session.setAttribute("role", "ADMIN");

접근 제어

/admin/* URL 패턴은 ADMIN만 접근 가능

AuthFilter 또는 AdminCheckFilter에서

세션의 role 확인 후 권한 없으면 /login.jsp 또는 에러 페이지로 forward

관리자 전용 레이아웃

/jsp/admin/common/header.jsp, /jsp/admin/common/sidebar.jsp 등으로 구성

include 디렉티브/액션 태그 활용: <%@ include %>, <jsp:include %>

5.8.2 관리자 기능 목록
(1) 사케 기본 정보 관리 (sake CRUD)

기능

사케 목록 조회 (검색/필터: 이름, 브랜드, 지역)

사케 등록 (CREATE)

사케 상세/수정 (UPDATE)

사케 삭제 (DELETE)

주요 폼 필드

이름(일/영/한), 브랜드, 주조장, 지역, 스타일, 도수, 용량, 정미율, 일본주도, 맛 프로파일(단맛/드라이, 향, 바디감 등)

파일 업로드

대표 라벨 이미지 업로드 (병 사진)

이미지 경로를 sake 테이블의 thumbnail_path 같은 컬럼으로 저장 (원하면 추가)

(2) 판매 상품 관리 (sake_product CRUD)

기능

판매 상품 목록 조회 (사케별로 매핑)

상품 등록

사케 선택 (드롭다운)

가격, 재고, 노출 여부(is_published), 라벨(한정판/프리미엄 등)

상품 수정 (가격/재고/노출 상태 변경)

상품 삭제

활용 포인트

교수님 평가 요소에서 폼 태그 + 유효성 검사 + DB 연동 어필하기 좋음

(3) 리뷰 관리 (리뷰 모니터링/삭제)

기능

sake_review 목록 조회 (사케/유저/평점/신고 여부 필터)

부적절한 리뷰 삭제 또는 숨김 처리 (is_visible 플래그 컬럼 추가해도 됨)

선택사항: 사용자 신고 기능까지는 과제 범위에 따라 생략 가능

(4) 주문/장바구니 모니터링 (READ 위주)

기능(간단 버전)

주문 리스트 조회 (주문 ID, 유저, 총 금액, 상태)

상세 조회 (어떤 사케를 몇 병 주문했는지)

상태 변경(REQUESTED → COMPLETED 등)은 옵션

5.8.3 관리자 JSP 페이지 구조 (예시)
/jsp/admin/
├── login.jsp              // 관리자 로그인 (일반 로그인 재사용도 가능)
├── dashboard.jsp          // 간단 통계/요약
├── sake/
│   ├── list.jsp           // 사케 목록 + 검색
│   ├── form.jsp           // 등록/수정 폼 (공용)
│   └── detail.jsp         // 상세 보기(선택)
├── product/
│   ├── list.jsp           // 판매 상품 목록
│   └── form.jsp           // 등록/수정 폼
├── review/
│   └── list.jsp           // 리뷰 목록 + 삭제/숨김 버튼
└── order/
    └── list.jsp           // 주문 목록 (READ 전용)


각 페이지에서 평가 요소 활용 포인트

스크립트 태그: 목록에서 DB 결과 루프 돌릴 때, 합계 계산 등

디렉티브 태그: page, include로 공통 헤더/사이드바

액션 태그: <jsp:useBean>, <jsp:forward>, <jsp:include>로 폼 처리/에러 처리

폼 태그: 등록/수정에서 <form> + input/select/textarea

유효성 검사: JS로 필수값 체크, 서버에서 다시 한 번 검증